name = "covenant"
main = "app/workers/app/index.js"
compatibility_date = "2025-12-17"
workers_dev = false
preview_urls = false
assets = { directory = "public" }

[[routes]]
pattern = "covenant.wizards.art"
custom_domain = true

[[d1_databases]]
binding = "DB"
database_name = "covenant"
database_id = "5ab64e45-a78f-4692-939e-7eec3000b341"

[[durable_objects.bindings]]
name = "SIGNING_AGENT"
class_name = "SigningAgentWorker"
script_name = "covenant-signing-agent"

[triggers]
crons = ["*/5 * * * *", "*/10 * * * *"]

[[rules]]
globs = ["**/*.html"]
type = "Text"
fallthrough = true

[[rules]]
globs = ["**/*.yml", "**/*.yaml"]
type = "Text"
fallthrough = true

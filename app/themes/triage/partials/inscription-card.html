<a
  class="triage-item <%= (order && order.status === 'pending') ? 'urgent' : ((order && order.status === 'confirmed') ? 'sold' : '') %>"
  href="/<%= encodeURIComponent(collection.slug) %>/<%= encodeURIComponent(inscription.id) %>"
  data-testid="inscription-card"
  data-inscription-id="<%= inscription.id %>"
>
  <div class="specimen-thumb">
    <% if (inscription.isImage) { %>
      <img src="<%= inscription.contentUrl %>" alt="<%= inscription.title || 'Specimen' %>" loading="lazy" />
    <% } else { %>
      [S]
    <% } %>
  </div>
  <div class="specimen-details">
    <div class="specimen-header">
      <span class="specimen-id" data-testid="inscription-title">SPECIMEN #<%= new Intl.NumberFormat('en-US').format(inscription.number) %></span>
      <% if (order && order.status === 'pending') { %>
        <span class="specimen-priority urgent">PENDING</span>
      <% } else if (order && order.status === 'confirmed') { %>
        <span class="specimen-priority sold">ACQUIRED</span>
      <% } else { %>
        <span class="specimen-priority">AVAILABLE</span>
      <% } %>
    </div>
    <div class="specimen-diagnostics">
      <div class="diagnostic">
        <span class="diagnostic-label">CONTENT TYPE</span>
        <span class="diagnostic-value"><%= inscription.contentType ? inscription.contentType.split('/')[1].toUpperCase() : 'UNKNOWN' %></span>
      </div>
      <div class="diagnostic">
        <span class="diagnostic-label">PRICE</span>
        <span class="diagnostic-value" data-testid="inscription-price"><%= formatSats(collection.price_sats) %></span>
      </div>
      <div class="diagnostic">
        <span class="diagnostic-label">STATUS</span>
        <span class="diagnostic-value"><%= (order && order.status === 'confirmed') ? 'DISCHARGED' : ((order && order.status === 'pending') ? 'IN PROGRESS' : 'READY') %></span>
      </div>
    </div>
    <div class="queue-timestamp">
      <span style="color: var(--color-secondary); font-family: var(--font-mono); font-size: 9px;">INTAKE: <%= new Date(inscription.timestamp * 1000).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) %> | QUEUE #<%= String(inscription.number % 1000).padStart(3, '0') %></span>
    </div>
  </div>
</a>

<section data-testid="inscriptions-page">
  <h2 class="sr-only" data-testid="page-title">Collection</h2>

  <div class="section">
    <div class="section-header">COLLECTION DATA</div>

    <!-- Collection Header -->
    <div class="collection-header-bar">
      <div class="collection-title-group">
        <h2><%= collection.title.toUpperCase() %></h2>
        <p><%= collection.itemsCount ?? 0 %> ITEMS // FLOOR: <%= formatSats(collection.price_sats).replace(' sats', '') %>
        <% if (collection.parent_inscription_id || collection.gallery_inscription_id) { %>
          <% const isGallery = Boolean(collection.gallery_inscription_id) %>
          <% if (isGallery) { %>
            // GALLERY: <%= new Intl.NumberFormat('en-US').format(parentInscription.galleryCount) %> TOTAL
          <% } else { %>
            // PARENT: <%= new Intl.NumberFormat('en-US').format(parentInscription.childCount) %> CHILDREN
          <% } %>
        <% } %>
        </p>
      </div>
    </div>

    <!-- Data Table -->
    <% if ((collection.itemsCount ?? 0) === 0) { %>
      <div class="empty-state" data-testid="empty-state">
        <p data-testid="empty-title">NO TARGETS DETECTED // INVENTORY EMPTY</p>
      </div>
    <% } else { %>
      <table class="data-table" data-testid="grid">
        <thead>
          <tr>
            <th>Preview</th>
            <th>Inscription ID</th>
            <th>Name</th>
            <th>Status</th>
            <th>Price</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <%- collection.itemsHtml %>
        </tbody>
      </table>

      <!-- Pagination -->
      <% if ((pagination.totalPages ?? 1) > 1) { %>
        <div class="pagination" data-testid="pagination">
          <a href="<%= pagination.prevUrl %>" class="page-btn <%= pagination.hasPrev ? '' : 'disabled' %>" data-action="click->store#paginate" data-testid="prev-page">PREV</a>
          <% if ((pagination.pages ?? []).length > 0) { %>
            <% pagination.pages.forEach((pageLink) => { %>
              <% if (pageLink.type !== 'gap') { %>
                <a href="<%= pageLink.url %>" class="page-btn <%= pageLink.isActive ? 'active' : '' %>" data-action="click->store#paginate" data-testid="page-link"><%= pageLink.n %></a>
              <% } %>
            <% }) %>
          <% } %>
          <a href="<%= pagination.nextUrl %>" class="page-btn <%= pagination.hasNext ? '' : 'disabled' %>" data-action="click->store#paginate" data-testid="next-page">NEXT</a>
        </div>
      <% } %>
    <% } %>
  </div>
</section>

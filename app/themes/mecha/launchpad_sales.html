<turbo-frame id="launchpad-sales" target="_top">
  <% orders = recentSales ?? [] %>
<section data-testid="activity-page">
  <div class="section">
    <div class="section-header">MISSION LOG</div>

    <div class="activity-header">
      <h2 data-testid="page-title">Transaction Log</h2>
      <p class="subtitle">OPERATIONAL HISTORY</p>
    </div>

    <% if ((orders ?? []).length === 0) { %>
      <div class="empty-state" data-testid="empty-state">
        <p>NO TRANSACTIONS RECORDED // LOG EMPTY</p>
      </div>
    <% } else { %>
      <div class="mission-log" data-testid="orders">
        <% orders.forEach((o, index) => { %>
          <div class="log-entry" data-testid="order-row">
            <div class="log-row log-row-top">
              <span class="log-type <%= o.status %>"><%= o.status.toUpperCase() %></span>
              <div class="log-amount" data-testid="order-price"><%= o.price_sats ? '+' + formatSats(o.price_sats).replace(' sats', '') : '---' %></div>
            </div>
            <div class="log-row log-row-main">
              <a class="log-id" href="/<%= encodeURIComponent(o.collection_slug) %>/<%= encodeURIComponent(o.inscription_id) %>" data-testid="order-inscription-link" title="<%= o.inscription_id %>">
                <%= shortHash(o.inscription_id) %>
              </a>
              <div class="log-timestamp">
                <span class="date"><%= new Date(o.created_at).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }) %></span>
                <span><%= new Date(o.created_at).toLocaleTimeString('en-US', { hour12: false }) %> UTC</span>
              </div>
            </div>
            <div class="log-row log-row-meta">
              <div class="log-details">
                <% if (o.txid) { %>
                  TX: <a href="https://mempool.space/tx/<%= encodeURIComponent(o.txid) %>" target="_blank" rel="noopener" data-testid="order-tx-link" title="<%= o.txid %>"><%= shortHash(o.txid) %></a>
                <% } else { %>
                  Awaiting broadcast
                <% } %>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    <% } %>
  </div>
</section>
</turbo-frame>
